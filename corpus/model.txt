========================
Simple Model definition
========================

model User {
  id         Int
  email      String?
  posts      Post?[]
}

---

(program
  (model_declaration
    (identifier)
    (statement_block
      (column_declaration
        (identifier)
        (column_type
          (identifier)
        )
        (new_line)
      )
      (column_declaration
        (identifier)
        (column_type
          (identifier)
        )
        (new_line)
      )
      (column_declaration
        (identifier)
        (column_type
          (identifier)
          (array)
        )
        (new_line)
      )
    )
  )
)

=========================
Model with namespaces
=========================

model User {
  id         String     @default(cuid()) @id
  email      String     @unique
  createdAt  DateTime   @default()
}

---

(program
  (model_declaration
    (identifier)
    (statement_block
      (column_declaration
        (identifier)
        (column_type
          (identifier)
        )
        (column_relation
          (namespace
            (call_expression
              (identifier)
              (arguments
                (call_expression
                  (identifier)
                  (arguments)
                )
              )
            )
          )
          (namespace
            (identifier)
          )
        )
        (new_line)
      )
      (column_declaration
        (identifier)
        (column_type
          (identifier)
        )
        (column_relation
          (namespace
            (identifier)
          )
        )
        (new_line)
      )
      (column_declaration
        (identifier)
        (column_type
          (identifier)
        )
        (column_relation
          (namespace
            (call_expression
              (identifier)
              (arguments)
            )
          )
        )
        (new_line)
      )
    )
  )
)

===============================
Model with blockattributes
===============================

model Post {
  @@unique([ title, slug ])
  @@attribute0
  @@pg.Point
  @@pg.index([ email, first_name ], name: "my_index", partial: true)
  @@check(a > b, name: "a_b_constraint")
  @@pg.numeric(precision: 5, scale: 2)
}

---

(program
  (model_declaration
    (identifier)
    (statement_block
      (block_attribute_declaration
        (call_expression
          (identifier)
          (arguments
            (array
              (identifier)
              (identifier)
            )
          )
        )
      )
      (block_attribute_declaration
        (identifier)
      )
      (block_attribute_declaration
        (member_expression
          (identifier)
          (property_identifier)
        )
      )
      (block_attribute_declaration
        (call_expression
          (member_expression
            (identifier)
            (property_identifier)
          )
          (arguments
            (array
              (identifier)
              (identifier)
            )
            (type_expression
              (identifier)
              (string)
            )
            (type_expression
              (identifier)
              (true)
            )
          )
        )
      )
      (block_attribute_declaration
        (call_expression
          (identifier)
          (arguments
            (binary_expression
              (identifier)
              (identifier)
            )
            (type_expression
              (identifier)
              (string)
            )
          )
        )
      )
      (block_attribute_declaration
        (call_expression
          (member_expression
            (identifier)
            (property_identifier)
          )
          (arguments
            (type_expression
              (identifier)
              (number)
            )
            (type_expression
              (identifier)
              (number)
            )
          )
        )
      )
    )
  )
)
