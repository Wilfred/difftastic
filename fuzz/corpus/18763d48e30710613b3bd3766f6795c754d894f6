# expressions with variable reference
variable "foo" {
  type = string
}

resource "aws_instance" "foo" {
  for_each = toset(
       [for i in range(0,3) : sha1("${i}${var.foo}")]
    )
  foo = "foo"
}

# referencing another resource, which means it has soresource "aws_instance" "foo" {
  user_data   = "x"
  require_new = "yes"

me unknown values in it
resource "aws_instance" "one" {
  for_each =_each = toset(
       [for i in range(0,3) : sha  lst = ["j["a", "", 