var Module=void 0!==Module?Module:{};!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.TreeSitter=t()}(0,function(){var e,t={};for(e in Module)Module.hasOwnProperty(e)&&(t[e]=Module[e]);var n,r,s=[],o=function(e,t){throw t},_=!1,a=!1;_="object"==typeof window,a="function"==typeof importScripts,n="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,r=!_&&!n&&!a;var u,i,l,d,c="";n?(c=a?require("path").dirname(c)+"/":__dirname+"/",u=function(e,t){return l||(l=require("fs")),d||(d=require("path")),e=d.normalize(e),l.readFileSync(e,t?null:"utf8")},i=function(e){var t=u(e,!0);return t.buffer||(t=new Uint8Array(t)),S(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),s=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),o=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}):r?("undefined"!=typeof read&&(u=function(e){return read(e)}),i=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(S("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?s=scriptArgs:void 0!==arguments&&(s=arguments),"function"==typeof quit&&(o=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(_||a)&&(a?c=self.location.href:"undefined"!=typeof document&&document.currentScript&&(c=document.currentScript.src),c=0!==c.indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},a&&(i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});Module.print||console.log.bind(console);var m=Module.printErr||console.warn.bind(console);for(e in t)t.hasOwnProperty(e)&&(Module[e]=t[e]);t=null,Module.arguments&&(s=Module.arguments),Module.thisProgram&&Module.thisProgram,Module.quit&&(o=Module.quit);var f=16;var p,h=[];function g(e,t){if(!p){p=new WeakMap;for(var n=0;n<j.length;n++){var r=j.get(n);r&&p.set(r,n)}}if(p.has(e))return p.get(e);var s=function(){if(h.length)return h.pop();try{j.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return j.length-1}();try{j.set(s,e)}catch(n){if(!(n instanceof TypeError))throw n;var o=function(e,t){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==t[0]?[]:[n[t[0]]]},s=1;s<t.length;++s)r.parameters.push(n[t[s]]);return new WebAssembly.Function(r,e)}var o=[1,0,1,96],_=t.slice(0,1),a=t.slice(1),u={i:127,j:126,f:125,d:124};for(o.push(a.length),s=0;s<a.length;++s)o.push(u[a[s]]);"v"==_?o.push(0):o=o.concat([1,u[_]]),o[1]=o.length-2;var i=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(i);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t);j.set(s,o)}return p.set(e,s),s}var w,M,y,b=function(e){e};function E(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":A[e>>0]=t;break;case"i16":k[e>>1]=t;break;case"i32":C[e>>2]=t;break;case"i64":ue=[t>>>0,(ae=t,+Math.abs(ae)>=1?ae>0?(0|Math.min(+Math.floor(ae/4294967296),4294967295))>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],C[e>>2]=ue[0],C[e+4>>2]=ue[1];break;case"float":R[e>>2]=t;break;case"double":q[e>>3]=t;break;default:ee("invalid type for setValue: "+n)}}function v(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return A[e>>0];case"i16":return k[e>>1];case"i32":case"i64":return C[e>>2];case"float":return R[e>>2];case"double":return q[e>>3];default:ee("invalid type for getValue: "+t)}return null}Module.wasmBinary&&(w=Module.wasmBinary),Module.noExitRuntime&&(M=Module.noExitRuntime),"object"!=typeof WebAssembly&&ee("no native wasm support detected");var I=!1;function S(e,t){e||ee("Assertion failed: "+t)}var x=1;var N,A,P,k,C,R,q,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function L(e,t,n){for(var r=t+n,s=t;e[s]&&!(s>=r);)++s;if(s-t>16&&e.subarray&&T)return T.decode(e.subarray(t,s));for(var o="";t<s;){var _=e[t++];if(128&_){var a=63&e[t++];if(192!=(224&_)){var u=63&e[t++];if((_=224==(240&_)?(15&_)<<12|a<<6|u:(7&_)<<18|a<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(_);else{var i=_-65536;o+=String.fromCharCode(55296|i>>10,56320|1023&i)}}else o+=String.fromCharCode((31&_)<<6|a)}else o+=String.fromCharCode(_)}return o}function Z(e,t){return e?L(P,e,t):""}function F(e,t,n){return function(e,t,n,r){if(!(r>0))return 0;for(var s=n,o=n+r-1,_=0;_<e.length;++_){var a=e.charCodeAt(_);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++_)),a<=127){if(n>=o)break;t[n++]=a}else if(a<=2047){if(n+1>=o)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=o)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}return t[n]=0,n-s}(e,P,t,n)}function W(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function O(e){N=e,Module.HEAP8=A=new Int8Array(e),Module.HEAP16=k=new Int16Array(e),Module.HEAP32=C=new Int32Array(e),Module.HEAPU8=P=new Uint8Array(e),Module.HEAPU16=new Uint16Array(e),Module.HEAPU32=new Uint32Array(e),Module.HEAPF32=R=new Float32Array(e),Module.HEAPF64=q=new Float64Array(e)}var $=new WebAssembly.Global({value:"i32",mutable:!0},5250848);Module.___heap_base=5250848;var U=Module.INITIAL_MEMORY||33554432;(y=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:U/65536,maximum:32768}))&&(N=y.buffer),U=N.byteLength,O(N);var j=new WebAssembly.Table({initial:13,element:"anyfunc"}),D=[],G=[],B=[],H=[],K=!1;function z(e){D.unshift(e)}var V=0,X=null,Q=null;function Y(e){V++,Module.monitorRunDependencies&&Module.monitorRunDependencies(V)}function J(e){if(V--,Module.monitorRunDependencies&&Module.monitorRunDependencies(V),0==V&&(null!==X&&(clearInterval(X),X=null),Q)){var t=Q;Q=null,t()}}function ee(e){throw Module.onAbort&&Module.onAbort(e),m(e+=""),I=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function te(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}Module.preloadedImages={},Module.preloadedAudios={},Module.preloadedWasm={},z(function(){var e=[];Module.dynamicLibraries&&(e=e.concat(Module.dynamicLibraries));if(!e.length)return void be();if(!i)return Y(),void Promise.all(e.map(function(e){return ye(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})).then(function(){J(),be()});e.forEach(function(e){ye(e,{global:!0,nodelete:!0,allowUndefined:!0})}),be()});var ne="data:application/octet-stream;base64,";function re(e){return te(e,ne)}var se="file://";function oe(e){return te(e,se)}var _e,ae,ue,ie="tree-sitter.wasm";function le(e){try{if(e==ie&&w)return new Uint8Array(w);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(e){ee(e)}}re(ie)||(_e=ie,ie=Module.locateFile?Module.locateFile(_e,c):c+_e);var de={},ce={get:function(e,t){return de[t]||(de[t]=new WebAssembly.Global({value:"i32",mutable:!0})),de[t]}};function me(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?j.get(n)():j.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(Module)}}var fe,pe={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function he(e,t){var n={};for(var r in e){var s=e[r];"object"==typeof s&&(s=s.value),"number"==typeof s&&(s+=t),n[r]=s}return function(e){for(var t in e)if("__cpp_exception"!=t&&"__dso_handle"!=t&&"__wasm_apply_relocs"!=t){var n=!1,r=e[t];0==t.indexOf("orig$")&&(t=t.split("$")[1],n=!0),de[t]||(de[t]=new WebAssembly.Global({value:"i32",mutable:!0})),(n||0==de[t].value)&&("function"==typeof r?de[t].value=g(r):"number"==typeof r?de[t].value=r:m("unhandled export type for `"+t+"`: "+typeof r))}}(n),n}function ge(e){return 0==e.indexOf("dynCall_")||-1!=["setTempRet0","getTempRet0","stackAlloc","stackSave","stackRestore"].indexOf(e)?e:"_"+e}function we(e,t){var n,r;return t&&(n=Module.asm["orig$"+e]),n||(n=Module.asm[e]),!n&&t&&(n=Module["_orig$"+e]),n||(n=Module[ge(e)]),n||0!=e.indexOf("invoke_")||(r=e.split("_")[1],n=function(){var e=qe();try{return dynCall(r,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(Te(e),t!==t+0&&"longjmp"!==t)throw t;_setThrew(1,0)}}),n}function Me(e,t){S(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],"need to see wasm magic number"),S(0===e[8],"need the dylink section to be first");var n=9;function r(){for(var t=0,r=1;;){var s=e[n++];if(t+=(127&s)*r,r*=128,!(128&s))break}return t}r();S(6===e[n]),S(e[++n]==="d".charCodeAt(0)),S(e[++n]==="y".charCodeAt(0)),S(e[++n]==="l".charCodeAt(0)),S(e[++n]==="i".charCodeAt(0)),S(e[++n]==="n".charCodeAt(0)),S(e[++n]==="k".charCodeAt(0)),n++;for(var s=r(),o=r(),_=r(),a=r(),u=r(),i=[],l=0;l<u;++l){var d=r(),c=e.subarray(n,n+d);n+=d;var m=L(c,0);i.push(m)}function p(){o=Math.pow(2,o),a=Math.pow(2,a),o=Math.max(o,f);var n,r,u,i=(n=function(e){if(K)return Ce(e);var t=Module.___heap_base,n=t+e+15&-16;return Module.___heap_base=n,de.__heap_base.value=n,t}(s+o),(r=o)||(r=f),Math.ceil(n/r)*r),l=Pe,d=j,c=d.length,m=d;d.grow(_),S(d===m);for(var p=i;p<i+s;p++)A[p]=0;for(p=c;p<c+_;p++)d.set(p,null);for(var h in Module)h in l||(l[h]=Module[h]);var g=new Proxy(l,{get:function(e,t){switch(t){case"__memory_base":return i;case"__table_base":return c}return t in e?e[t]:e[t]=function(){return n||(n=function(e){var t=we(e,!1);return t||(t=u[e]),t}(t)),n.apply(null,arguments)};var n}}),w={"GOT.mem":new Proxy(Pe,ce),"GOT.func":new Proxy(Pe,ce),env:g,wasi_snapshot_preview1:g};function M(e){u=he(e.exports,i),t.allowUndefined||be();var n=u.__post_instantiate;return n&&(K?n():G.push(n)),u}return t.loadAsync?WebAssembly.instantiate(e,w).then(function(e){return M(e.instance)}):M(new WebAssembly.Instance(new WebAssembly.Module(e),w))}return t.loadAsync?Promise.all(i.map(function(e){return ye(e,t)})).then(function(){return p()}):(i.forEach(function(e){ye(e,t)}),p())}function ye(e,t){"__main__"!=e||pe.loadedLibNames[e]||(pe.loadedLibs[-1]={refcount:1/0,name:"__main__",module:Module.asm,global:!0},pe.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var n,r=pe.loadedLibNames[e];if(r)return n=pe.loadedLibs[r],t.global&&!n.global&&(n.global=!0,"loading"!==n.module&&_(n.module)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,t.loadAsync?Promise.resolve(r):r;function s(e){if(t.fs){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}return t.loadAsync?(r=e,fetch(r,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load binary file at '"+r+"'";return e.arrayBuffer()}).then(function(e){return new Uint8Array(e)})):i(e);var r}function o(){if(void 0!==Module.preloadedWasm&&void 0!==Module.preloadedWasm[e]){var n=Module.preloadedWasm[e];return t.loadAsync?Promise.resolve(n):n}return t.loadAsync?s(e).then(function(e){return Me(e,t)}):Me(s(e),t)}function _(e){for(var t in e)if(e.hasOwnProperty(t)){var n=ge(t);Module.hasOwnProperty(n)||(Module[n]=e[t])}}function a(e){n.global&&_(e),n.module=e}return r=pe.nextHandle++,n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},pe.loadedLibNames[e]=r,pe.loadedLibs[r]=n,t.loadAsync?o().then(function(e){return a(e),r}):(a(o()),r)}function be(){for(var e in de)if(0==de[e].value){var t=we(e,!0);"function"==typeof t?de[e].value=g(t,t.sig):"number"==typeof t?de[e].value=t:S(!1,"bad export type for `"+e+"`: "+typeof t)}}function Ee(){ee()}Module._abort=Ee,Ee.sig="v",fe=n?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var ve=!0;function Ie(e,t){var n,r;if(0===e)n=Date.now();else{if(1!==e&&4!==e||!ve)return r=28,C[Re()>>2]=r,-1;n=fe()}return C[t>>2]=n/1e3|0,C[t+4>>2]=n%1e3*1e3*1e3|0,0}function Se(e){try{return y.grow(e-N.byteLength+65535>>>16),O(y.buffer),1}catch(e){}}function xe(e){We(e)}function Ne(e){b(0|e)}Ie.sig="iii",xe.sig="vi",Ne.sig="vi",G.push({func:function(){ke()}});var Ae,Pe={__indirect_function_table:j,__memory_base:1024,__stack_pointer:$,__table_base:1,abort:Ee,clock_gettime:Ie,emscripten_memcpy_big:function(e,t,n){P.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){e>>>=0;var t=P.length;if(e>2147483648)return!1;for(var n,r,s=1;s<=4;s*=2){var o=t*(1+.2/s);if(o=Math.min(o,e+100663296),Se(Math.min(2147483648,((n=Math.max(16777216,e,o))%(r=65536)>0&&(n+=r-n%r),n))))return!0}return!1},exit:xe,memory:y,setTempRet0:Ne,tree_sitter_log_callback:function(e,t){if(tt){const n=Z(t);tt(n,0!==e)}},tree_sitter_parse_callback:function(e,t,n,r,s){var o=et(t,{row:n,column:r});"string"==typeof o?(E(s,o.length,"i32"),function(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=(n-=2)<2*e.length?n/2:e.length,s=0;s<r;++s){var o=e.charCodeAt(s);k[t>>1]=o,t+=2}k[t>>1]=0}(o,e,10240)):E(s,0,"i32")}},ke=(function(){var e={env:Pe,wasi_snapshot_preview1:Pe,"GOT.mem":new Proxy(Pe,ce),"GOT.func":new Proxy(Pe,ce)};function t(e,t){var n=e.exports;n=he(n,1024),Module.asm=n,J()}function n(e){t(e.instance)}function r(t){return(w||!_&&!a||"function"!=typeof fetch||oe(ie)?Promise.resolve().then(function(){return le(ie)}):fetch(ie,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ie+"'";return e.arrayBuffer()}).catch(function(){return le(ie)})).then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){m("failed to asynchronously prepare wasm: "+e),ee(e)})}if(Y(),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(e){return m("Module.instantiateWasm callback failed with error: "+e),!1}w||"function"!=typeof WebAssembly.instantiateStreaming||re(ie)||oe(ie)||"function"!=typeof fetch?r(n):fetch(ie,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(n,function(e){return m("wasm streaming compile failed: "+e),m("falling back to ArrayBuffer instantiation"),r(n)})})}(),Module.___wasm_call_ctors=function(){return(ke=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)}),Ce=Module._malloc=function(){return(Ce=Module._malloc=Module.asm.malloc).apply(null,arguments)},Re=(Module._ts_language_symbol_count=function(){return(Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},Module._ts_language_version=function(){return(Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},Module._ts_language_field_count=function(){return(Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},Module._ts_language_symbol_name=function(){return(Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},Module._ts_language_symbol_for_name=function(){return(Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},Module._ts_language_symbol_type=function(){return(Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},Module._ts_language_field_name_for_id=function(){return(Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},Module._memcpy=function(){return(Module._memcpy=Module.asm.memcpy).apply(null,arguments)},Module._free=function(){return(Module._free=Module.asm.free).apply(null,arguments)},Module._calloc=function(){return(Module._calloc=Module.asm.calloc).apply(null,arguments)},Module._ts_parser_delete=function(){return(Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},Module._ts_parser_set_language=function(){return(Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},Module._ts_parser_timeout_micros=function(){return(Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},Module._ts_parser_set_timeout_micros=function(){return(Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},Module._memcmp=function(){return(Module._memcmp=Module.asm.memcmp).apply(null,arguments)},Module._ts_query_new=function(){return(Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},Module._iswspace=function(){return(Module._iswspace=Module.asm.iswspace).apply(null,arguments)},Module._ts_query_delete=function(){return(Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},Module._iswalnum=function(){return(Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},Module._ts_query_pattern_count=function(){return(Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},Module._ts_query_capture_count=function(){return(Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},Module._ts_query_string_count=function(){return(Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},Module._ts_query_capture_name_for_id=function(){return(Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},Module._ts_query_string_value_for_id=function(){return(Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},Module._ts_query_predicates_for_pattern=function(){return(Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},Module._ts_tree_copy=function(){return(Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},Module._ts_tree_delete=function(){return(Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},Module._ts_init=function(){return(Module._ts_init=Module.asm.ts_init).apply(null,arguments)},Module._ts_parser_new_wasm=function(){return(Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},Module._ts_parser_enable_logger_wasm=function(){return(Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},Module._ts_parser_parse_wasm=function(){return(Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},Module._ts_language_type_is_named_wasm=function(){return(Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},Module._ts_language_type_is_visible_wasm=function(){return(Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},Module._ts_tree_root_node_wasm=function(){return(Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},Module._ts_tree_edit_wasm=function(){return(Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},Module._ts_tree_get_changed_ranges_wasm=function(){return(Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},Module._ts_tree_cursor_new_wasm=function(){return(Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},Module._ts_tree_cursor_delete_wasm=function(){return(Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},Module._ts_tree_cursor_reset_wasm=function(){return(Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_first_child_wasm=function(){return(Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_parent_wasm=function(){return(Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_id_wasm=function(){return(Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_position_wasm=function(){return(Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_position_wasm=function(){return(Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_index_wasm=function(){return(Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_index_wasm=function(){return(Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_field_id_wasm=function(){return(Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_wasm=function(){return(Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},Module._ts_node_symbol_wasm=function(){return(Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},Module._ts_node_child_count_wasm=function(){return(Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},Module._ts_node_named_child_count_wasm=function(){return(Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},Module._ts_node_child_wasm=function(){return(Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},Module._ts_node_named_child_wasm=function(){return(Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},Module._ts_node_child_by_field_id_wasm=function(){return(Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},Module._ts_node_next_sibling_wasm=function(){return(Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_sibling_wasm=function(){return(Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},Module._ts_node_next_named_sibling_wasm=function(){return(Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_named_sibling_wasm=function(){return(Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},Module._ts_node_parent_wasm=function(){return(Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},Module._ts_node_descendant_for_index_wasm=function(){return(Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_index_wasm=function(){return(Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_descendant_for_position_wasm=function(){return(Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_position_wasm=function(){return(Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_start_point_wasm=function(){return(Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},Module._ts_node_end_point_wasm=function(){return(Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},Module._ts_node_start_index_wasm=function(){return(Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},Module._ts_node_end_index_wasm=function(){return(Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},Module._ts_node_to_string_wasm=function(){return(Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},Module._ts_node_children_wasm=function(){return(Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},Module._ts_node_named_children_wasm=function(){return(Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},Module._ts_node_descendants_of_type_wasm=function(){return(Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},Module._ts_node_is_named_wasm=function(){return(Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},Module._ts_node_has_changes_wasm=function(){return(Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},Module._ts_node_has_error_wasm=function(){return(Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},Module._ts_node_is_missing_wasm=function(){return(Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},Module._ts_query_matches_wasm=function(){return(Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},Module._ts_query_captures_wasm=function(){return(Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},Module._iswdigit=function(){return(Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},Module._iswalpha=function(){return(Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},Module._iswlower=function(){return(Module._iswlower=Module.asm.iswlower).apply(null,arguments)},Module._towupper=function(){return(Module._towupper=Module.asm.towupper).apply(null,arguments)},Module.___errno_location=function(){return(Re=Module.___errno_location=Module.asm.__errno_location).apply(null,arguments)}),qe=(Module._memchr=function(){return(Module._memchr=Module.asm.memchr).apply(null,arguments)},Module._strlen=function(){return(Module._strlen=Module.asm.strlen).apply(null,arguments)},Module.stackSave=function(){return(qe=Module.stackSave=Module.asm.stackSave).apply(null,arguments)}),Te=Module.stackRestore=function(){return(Te=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},Le=Module.stackAlloc=function(){return(Le=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)};Module.__Znwm=function(){return(Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},Module.__ZdlPv=function(){return(Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_).apply(null,arguments)},Module.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(Module.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=Module.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},Module._orig$ts_parser_timeout_micros=function(){return(Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},Module._orig$ts_parser_set_timeout_micros=function(){return(Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},Module._TRANSFER_BUFFER=2480,Module.___cxa_new_handler=7120;function Ze(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Module.allocate=function(e,t){var n;return n=t==x?Le(e.length):Ce(e.length),e.subarray||e.slice?P.set(e,n):P.set(new Uint8Array(e),n),n};function Fe(e){function t(){Ae||(Ae=!0,Module.calledRun=!0,I||(K=!0,me(G),me(B),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Oe&&function(e){var t=Module._main;if(t)try{We(t(0,0),!0)}catch(e){if(e instanceof Ze)return;if("unwind"==e)return void(M=!0);var n=e;e&&"object"==typeof e&&e.stack&&(n=[e,e.stack]),m("exception thrown: "+n),o(1,e)}finally{!0}}(),function(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)e=Module.postRun.shift(),H.unshift(e);var e;me(H)}()))}e=e||s,V>0||(!function(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)z(Module.preRun.shift());me(D)}(),V>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function We(e,t){t&&M&&0===e||(M||(e,!0,Module.onExit&&Module.onExit(e),I=!0),o(e,new Ze(e)))}if(Q=function e(){Ae||Fe(),Ae||(Q=e)},Module.run=Fe,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var Oe=!0;Module.noInitialRun&&(Oe=!1),M=!0,Fe();const $e=Module,Ue={},je=4,De=5*je,Ge=2*je,Be=2*je+2*Ge,He={row:0,column:0},Ke=/[\w-.]*/g,ze=1,Ve=2,Xe=/^_?tree_sitter_\w+/;var Qe,Ye,Je,et,tt,nt=new Promise(e=>{Module.onRuntimeInitialized=e}).then(()=>{Je=$e._ts_init(),Qe=v(Je,"i32"),Ye=v(Je+je,"i32")});class Parser{static init(){return nt}constructor(){if(null==Je)throw new Error("You must first call Parser.init() and wait for it to resolve.");$e._ts_parser_new_wasm(),this[0]=v(Je,"i32"),this[1]=v(Je+je,"i32")}delete(){$e._ts_parser_delete(this[0]),$e._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{t=e[0];const n=$e._ts_language_version(t);if(n<Ye||Qe<n)throw new Error(`Incompatible language version ${n}. `+`Compatibility range ${Ye} through ${Qe}.`)}}else t=0,e=null;return this.language=e,$e._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,n){if("string"==typeof e)et=((t,n,r)=>e.slice(t,r));else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");et=e}this.logCallback?(tt=this.logCallback,$e._ts_parser_enable_logger_wasm(this[0],1)):(tt=null,$e._ts_parser_enable_logger_wasm(this[0],0));let r=0,s=0;if(n&&n.includedRanges){r=n.includedRanges.length;let e=s=$e._calloc(r,Be);for(let t=0;t<r;t++)mt(e,n.includedRanges[t]),e+=Be}const o=$e._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,s,r);if(!o)throw et=null,tt=null,new Error("Parsing failed");const _=new Tree(Ue,o,this.language,et);return et=null,tt=null,_}reset(){$e._ts_parser_parse_wasm(this[0])}setTimeoutMicros(e){$e._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return $e._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,n,r){ot(e),this[0]=t,this.language=n,this.textCallback=r}copy(){const e=$e._ts_tree_copy(this[0]);return new Tree(Ue,e,this.language,this.textCallback)}delete(){$e._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=Je;dt(t,e.startPosition),dt(t+=Ge,e.oldEndPosition),dt(t+=Ge,e.newEndPosition),E(t+=Ge,e.startIndex,"i32"),E(t+=je,e.oldEndIndex,"i32"),E(t+=je,e.newEndIndex,"i32"),t+=je}(e),$e._ts_tree_edit_wasm(this[0])}get rootNode(){return $e._ts_tree_root_node_wasm(this[0]),ut(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");$e._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=v(Je,"i32"),n=v(Je+je,"i32"),r=new Array(t);if(t>0){let e=n;for(let n=0;n<t;n++)r[n]=ft(e),e+=Be;$e._free(n)}return r}}class Node{constructor(e,t){ot(e),this.tree=t}get typeId(){return at(this),$e._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return at(this),$e._ts_node_end_point_wasm(this.tree[0]),ct(Je)}get endIndex(){return at(this),$e._ts_node_end_index_wasm(this.tree[0])}get text(){return rt(this.tree,this.startIndex,this.endIndex)}isNamed(){return at(this),1===$e._ts_node_is_named_wasm(this.tree[0])}hasError(){return at(this),1===$e._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return at(this),1===$e._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return at(this),1===$e._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return at(this),$e._ts_node_child_wasm(this.tree[0],e),ut(this.tree)}namedChild(e){return at(this),$e._ts_node_named_child_wasm(this.tree[0],e),ut(this.tree)}childForFieldId(e){return at(this),$e._ts_node_child_by_field_id_wasm(this.tree[0],e),ut(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return at(this),$e._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return at(this),$e._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){at(this),$e._ts_node_children_wasm(this.tree[0]);const e=v(Je,"i32"),t=v(Je+je,"i32");if(this._children=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._children[t]=ut(this.tree,n),n+=De;$e._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){at(this),$e._ts_node_named_children_wasm(this.tree[0]);const e=v(Je,"i32"),t=v(Je+je,"i32");if(this._namedChildren=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._namedChildren[t]=ut(this.tree,n),n+=De;$e._free(t)}}return this._namedChildren}descendantsOfType(e,t,n){Array.isArray(e)||(e=[e]),t||(t=He),n||(n=He);const r=[],s=this.tree.language.types;for(let t=0,n=s.length;t<n;t++)e.includes(s[t])&&r.push(t);const o=$e._malloc(je*r.length);for(let e=0,t=r.length;e<t;e++)E(o+e*je,r[e],"i32");at(this),$e._ts_node_descendants_of_type_wasm(this.tree[0],o,r.length,t.row,t.column,n.row,n.column);const _=v(Je,"i32"),a=v(Je+je,"i32"),u=new Array(_);if(_>0){let e=a;for(let t=0;t<_;t++)u[t]=ut(this.tree,e),e+=De}return $e._free(a),$e._free(o),u}get nextSibling(){return at(this),$e._ts_node_next_sibling_wasm(this.tree[0]),ut(this.tree)}get previousSibling(){return at(this),$e._ts_node_prev_sibling_wasm(this.tree[0]),ut(this.tree)}get nextNamedSibling(){return at(this),$e._ts_node_next_named_sibling_wasm(this.tree[0]),ut(this.tree)}get previousNamedSibling(){return at(this),$e._ts_node_prev_named_sibling_wasm(this.tree[0]),ut(this.tree)}get parent(){return at(this),$e._ts_node_parent_wasm(this.tree[0]),ut(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");at(this);let n=Je+De;return E(n,e,"i32"),E(n+je,t,"i32"),$e._ts_node_descendant_for_index_wasm(this.tree[0]),ut(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");at(this);let n=Je+De;return E(n,e,"i32"),E(n+je,t,"i32"),$e._ts_node_named_descendant_for_index_wasm(this.tree[0]),ut(this.tree)}descendantForPosition(e,t=e){if(!_t(e)||!_t(t))throw new Error("Arguments must be {row, column} objects");at(this);let n=Je+De;return dt(n,e),dt(n+Ge,t),$e._ts_node_descendant_for_position_wasm(this.tree[0]),ut(this.tree)}namedDescendantForPosition(e,t=e){if(!_t(e)||!_t(t))throw new Error("Arguments must be {row, column} objects");at(this);let n=Je+De;return dt(n,e),dt(n+Ge,t),$e._ts_node_named_descendant_for_position_wasm(this.tree[0]),ut(this.tree)}walk(){return at(this),$e._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(Ue,this.tree)}toString(){at(this);const e=$e._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t="";;){var n=P[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}(e);return $e._free(e),t}}class TreeCursor{constructor(e,t){ot(e),this.tree=t,lt(this)}delete(){it(this),$e._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){at(e),it(this,Je+De),$e._ts_tree_cursor_reset_wasm(this.tree[0]),lt(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return it(this),$e._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return it(this),$e._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return it(this),1===$e._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return it(this),1===$e._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){it(this);const e=$e._ts_tree_cursor_start_index_wasm(this.tree[0]),t=$e._ts_tree_cursor_end_index_wasm(this.tree[0]);return rt(this.tree,e,t)}get startPosition(){return it(this),$e._ts_tree_cursor_start_position_wasm(this.tree[0]),ct(Je)}get endPosition(){return it(this),$e._ts_tree_cursor_end_position_wasm(this.tree[0]),ct(Je)}get startIndex(){return it(this),$e._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return it(this),$e._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return it(this),$e._ts_tree_cursor_current_node_wasm(this.tree[0]),ut(this.tree)}currentFieldId(){return it(this),$e._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){it(this);const e=$e._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return lt(this),1===e}gotoNextSibling(){it(this);const e=$e._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return lt(this),1===e}gotoParent(){it(this);const e=$e._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return lt(this),1===e}}class Language{constructor(e,t){ot(e),this[0]=t,this.types=new Array($e._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)$e._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=Z($e._ts_language_symbol_name(this[0],e)));this.fields=new Array($e._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=$e._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?Z(t):null}}get version(){return $e._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const n=W(e),r=$e._malloc(n+1);F(e,r,n+1);const s=$e._ts_language_symbol_for_name(this[0],r,n,t);return $e._free(r),s||null}get nodeTypeCount(){return $e._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=$e._ts_language_symbol_name(this[0],e);return t?Z(t):null}nodeTypeIsNamed(e){return!!$e._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!$e._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=W(e),n=$e._malloc(t+1);F(e,n,t+1);const r=$e._ts_query_new(this[0],n,t,Je,Je+je);if(!r){const t=v(Je+je,"i32"),r=Z(n,v(Je,"i32")).length,s=e.substr(r,100).split("\n")[0];let o,_=s.match(Ke)[0];switch(t){case 2:o=new RangeError(`Bad node name '${_}'`);break;case 3:o=new RangeError(`Bad field name '${_}'`);break;case 4:o=new RangeError(`Bad capture name @${_}`);break;case 5:o=new TypeError(`Bad pattern structure at offset ${r}: '${s}'...`),_="";break;default:o=new SyntaxError(`Bad syntax at offset ${r}: '${s}'...`),_=""}throw o.index=r,o.length=_.length,$e._free(n),o}const s=$e._ts_query_string_count(r),o=$e._ts_query_capture_count(r),_=$e._ts_query_pattern_count(r),a=new Array(o),u=new Array(s);for(let e=0;e<o;e++){const t=$e._ts_query_capture_name_for_id(r,e,Je),n=v(Je,"i32");a[e]=Z(t,n)}for(let e=0;e<s;e++){const t=$e._ts_query_string_value_for_id(r,e,Je),n=v(Je,"i32");u[e]=Z(t,n)}const i=new Array(_),l=new Array(_),d=new Array(_),c=new Array(_),m=new Array(_);for(let e=0;e<_;e++){const t=$e._ts_query_predicates_for_pattern(r,e,Je),n=v(Je,"i32");c[e]=[],m[e]=[];const s=[];let o=t;for(let t=0;t<n;t++){const t=v(o,"i32"),n=v(o+=je,"i32");if(o+=je,t===ze)s.push({type:"capture",name:a[n]});else if(t===Ve)s.push({type:"string",value:u[n]});else if(s.length>0){if("string"!==s[0].type)throw new Error("Predicates must begin with a literal value");const t=s[0].value;let n=!0;switch(t){case"not-eq?":n=!1;case"eq?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#eq?\` predicate. Expected 2, got ${s.length-1}`);if("capture"!==s[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${s[1].value}"`);if("capture"===s[2].type){const t=s[1].name,r=s[2].name;m[e].push(function(e){let s,o;for(const n of e)n.name===t&&(s=n.node),n.name===r&&(o=n.node);return s.text===o.text===n})}else{const t=s[1].name,r=s[2].value;m[e].push(function(e){for(const s of e)if(s.name===t)return s.node.text===r===n;return!1})}break;case"not-match?":n=!1;case"match?":if(3!==s.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${s.length-1}.`);if("capture"!==s[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${s[1].value}".`);if("string"!==s[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${s[2].value}.`);const r=s[1].name,o=new RegExp(s[2].value);m[e].push(function(e){for(const t of e)if(t.name===r)return o.test(t.node.text)===n;return!1});break;case"set!":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>"string"!==e.type))throw new Error('Arguments to `#set!` predicate must be a strings.".');i[e]||(i[e]={}),i[e][s[1].value]=s[2]?s[2].value:null;break;case"is?":case"is-not?":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>"string"!==e.type))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const _="is?"===t?l:d;_[e]||(_[e]={}),_[e][s[1].value]=s[2]?s[2].value:null;break;default:c[e].push({operator:t,operands:s.slice(1)})}s.length=0}}Object.freeze(i[e]),Object.freeze(l[e]),Object.freeze(d[e])}return $e._free(n),new Query(Ue,r,a,m,c,Object.freeze(i),Object.freeze(l),Object.freeze(d))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const n=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=require("fs");t=Promise.resolve(e.readFileSync(n))}else t=fetch(n).then(e=>e.arrayBuffer().then(t=>{if(e.ok)return new Uint8Array(t);{const n=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${n}`)}}))}const n="function"==typeof loadSideModule?loadSideModule:Me;return t.then(e=>n(e,{loadAsync:!0})).then(e=>{const t=Object.keys(e),n=t.find(e=>Xe.test(e)&&!e.includes("external_scanner_"));n||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const r=e[n]();return new Language(Ue,r)})}}class Query{constructor(e,t,n,r,s,o,_,a){ot(e),this[0]=t,this.captureNames=n,this.textPredicates=r,this.predicates=s,this.setProperties=o,this.assertedProperties=_,this.refutedProperties=a}delete(){$e._ts_query_delete(this[0]),this[0]=0}matches(e,t,n){t||(t=He),n||(n=He),at(e),$e._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column);const r=v(Je,"i32"),s=v(Je+je,"i32"),o=new Array(r);let _=0,a=s;for(let t=0;t<r;t++){const n=v(a,"i32"),r=v(a+=je,"i32");a+=je;const s=new Array(r);if(a=st(this,e.tree,a,s),this.textPredicates[n].every(e=>e(s))){o[_++]={pattern:n,captures:s};const e=this.setProperties[n];e&&(o[t].setProperties=e);const r=this.assertedProperties[n];r&&(o[t].assertedProperties=r);const a=this.refutedProperties[n];a&&(o[t].refutedProperties=a)}}return o.length=_,$e._free(s),o}captures(e,t,n){t||(t=He),n||(n=He),at(e),$e._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column);const r=v(Je,"i32"),s=v(Je+je,"i32"),o=[],_=[];let a=s;for(let t=0;t<r;t++){const t=v(a,"i32"),n=v(a+=je,"i32"),r=v(a+=je,"i32");if(a+=je,_.length=n,a=st(this,e.tree,a,_),this.textPredicates[t].every(e=>e(_))){const e=_[r],n=this.setProperties[t];n&&(e.setProperties=n);const s=this.assertedProperties[t];s&&(e.assertedProperties=s);const a=this.refutedProperties[t];a&&(e.refutedProperties=a),o.push(e)}}return $e._free(s),o}predicatesForPattern(e){return this.predicates[e]}}function rt(e,t,n){const r=n-t;let s=e.textCallback(t,null,n);for(t+=s.length;t<n;){const r=e.textCallback(t,null,n);if(!(r&&r.length>0))break;t+=r.length,s+=r}return t>n&&(s=s.slice(0,r)),s}function st(e,t,n,r){for(let s=0,o=r.length;s<o;s++){const o=v(n,"i32"),_=ut(t,n+=je);n+=De,r[s]={name:e.captureNames[o],node:_}}return n}function ot(e){if(e!==Ue)throw new Error("Illegal constructor")}function _t(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function at(e){let t=Je;E(t,e.id,"i32"),E(t+=je,e.startIndex,"i32"),E(t+=je,e.startPosition.row,"i32"),E(t+=je,e.startPosition.column,"i32"),E(t+=je,e[0],"i32")}function ut(e,t=Je){const n=v(t,"i32");if(0===n)return null;const r=v(t+=je,"i32"),s=v(t+=je,"i32"),o=v(t+=je,"i32"),_=v(t+=je,"i32"),a=new Node(Ue,e);return a.id=n,a.startIndex=r,a.startPosition={row:s,column:o},a[0]=_,a}function it(e,t=Je){E(t+0*je,e[0],"i32"),E(t+1*je,e[1],"i32"),E(t+2*je,e[2],"i32")}function lt(e){e[0]=v(Je+0*je,"i32"),e[1]=v(Je+1*je,"i32"),e[2]=v(Je+2*je,"i32")}function dt(e,t){E(e,t.row,"i32"),E(e+je,t.column,"i32")}function ct(e){return{row:v(e,"i32"),column:v(e+je,"i32")}}function mt(e,t){dt(e,t.startPosition),dt(e+=Ge,t.endPosition),E(e+=Ge,t.startIndex,"i32"),E(e+=je,t.endIndex,"i32"),e+=je}function ft(e){const t={};return t.startPosition=ct(e),e+=Ge,t.endPosition=ct(e),e+=Ge,t.startIndex=v(e,"i32"),e+=je,t.endIndex=v(e,"i32"),t}return Parser.Language=Language,Parser.Parser=Parser,Parser});
